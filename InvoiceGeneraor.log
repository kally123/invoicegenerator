/*C11*/SET SCHEMA PUBLIC
drop table accomidation if exists
drop table customer if exists
drop table customer_booking if exists
create table accomidation (id bigint generated by default as identity (start with 1), accomidation_type integer, price integer check (price>=1), version integer, customer_booking_id bigint, primary key (id))
create table customer (id bigint generated by default as identity (start with 1), address_line1 varchar(255), address_line2 varchar(255), city_name varchar(255), country varchar(255), customer_name varchar(255), date_of_birth varchar(255), document_proof varchar(255), email_id varchar(255), mobile_number varchar(255), version integer, customer_booking_id bigint, primary key (id))
create table customer_booking (id bigint generated by default as identity (start with 1), customer_discount integer, no_of_days integer check (no_of_days>=1), total_price integer check (total_price>=1), version integer, primary key (id))
alter table accomidation add constraint FK5wkff1ywjiuh6862gf8ts8itu foreign key (customer_booking_id) references customer_booking
alter table customer add constraint FKot8inablyyu0835px7b71e05m foreign key (customer_booking_id) references customer_booking
INSERT INTO ACCOMIDATION VALUES(1,0,1500,0,NULL)
COMMIT
INSERT INTO CUSTOMER VALUES(1,'Flat 103, Peace Mansion,Thubrahalli, Varthur road, Bangalore',NULL,'Bangalore','India','Kalyan','01/02/1985','myAadharNo','kalyansomisetty@cityclassifieds.co.in','9538655884',0,NULL)
COMMIT
INSERT INTO CUSTOMER_BOOKING VALUES(1,NULL,2,3000,0)
DELETE FROM ACCOMIDATION WHERE ID=1
INSERT INTO ACCOMIDATION VALUES(1,0,1500,1,1)
DELETE FROM CUSTOMER WHERE ID=1
INSERT INTO CUSTOMER VALUES(1,'Flat 103, Peace Mansion,Thubrahalli, Varthur road, Bangalore',NULL,'Bangalore','India','Kalyan','01/02/1985','myAadharNo','kalyansomisetty@cityclassifieds.co.in','9538655884',1,1)
COMMIT
